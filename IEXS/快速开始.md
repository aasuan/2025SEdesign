# 快速开始指南

## 第一步：环境准备

### 1. 安装MySQL
- 下载并安装MySQL 8.0
- 启动MySQL服务
- 使用root账号登录

### 2. 安装Redis
- Windows: 下载Redis for Windows，解压后运行 `redis-server.exe`
- Linux: `sudo apt-get install redis-server` 或 `yum install redis`
- Mac: `brew install redis` 然后 `brew services start redis`

### 3. 配置数据库
编辑 `src/main/resources/db.properties`，修改数据库密码：
```properties
jdbc.password=你的MySQL密码
```

## 第二步：初始化数据库

1. 打开MySQL客户端（命令行或Navicat等工具）
2. 执行 `src/main/resources/sql/init.sql` 文件
   - 命令行方式：`mysql -u root -p < src/main/resources/sql/init.sql`
   - 或在MySQL客户端中直接复制粘贴SQL内容执行

这将创建：
- 数据库 `iexs`
- 6张数据表
- 3个测试账号（admin/teacher/student）

## 第三步：启动项目

### 方式一：使用IDEA（推荐）

1. **打开项目**
   - File -> Open -> 选择 `IEXS` 目录

2. **等待Maven下载依赖**
   - IDEA会自动识别pom.xml并下载依赖
   - 底部状态栏会显示下载进度

3. **配置Tomcat**
   - Run -> Edit Configurations
   - 点击左上角 `+` -> Tomcat Server -> Local
   - Name: 填写 `Tomcat`
   - 在 `Deployment` 标签页：
     - 点击 `+` -> Artifact -> 选择 `IEXS:war exploded`
     - Application context 填写 `/`

4. **启动**
   - 点击运行按钮（绿色三角形）
   - 等待控制台输出 "Started Tomcat"
   - 浏览器访问 http://localhost:8080

### 方式二：使用Maven命令

```bash
# 进入项目目录
cd IEXS

# 编译打包
mvn clean package

# 使用Tomcat插件运行
mvn tomcat7:run
```

然后访问 http://localhost:8080

## 第四步：测试系统

### 方法1：使用测试页面
访问 http://localhost:8080/index.html

### 方法2：使用Postman/Apifox

#### 1. 学生登录
```
POST http://localhost:8080/api/user/login
Content-Type: application/json

{
  "username": "student",
  "password": "student123"
}
```

#### 2. 查看可参加的考试
```
GET http://localhost:8080/api/exam/available
```

#### 3. 老师登录后添加题目
```
POST http://localhost:8080/api/user/login
{
  "username": "teacher",
  "password": "teacher123"
}

POST http://localhost:8080/api/question/add
{
  "title": "Java中String类是final的吗？",
  "type": "judge",
  "optionA": "是",
  "optionB": "否",
  "correctAnswer": "A",
  "score": 5,
  "difficulty": 1
}
```

## 常见问题

### 1. 数据库连接失败
- 检查MySQL服务是否启动
- 检查db.properties中的用户名密码是否正确
- 检查数据库是否已创建（执行init.sql）

### 2. Redis连接失败
- 检查Redis服务是否启动
- Windows: 检查redis-server.exe是否运行
- Linux: `redis-cli ping` 应该返回 `PONG`

### 3. 端口被占用
- 修改Tomcat端口：在web.xml或IDEA Tomcat配置中修改
- 或在pom.xml的tomcat7-maven-plugin中修改port

### 4. Maven依赖下载失败
- 检查网络连接
- 配置Maven镜像（推荐使用阿里云镜像）
- File -> Settings -> Build -> Build Tools -> Maven

### 5. 编译错误
- 确保JDK版本是11
- File -> Project Structure -> Project SDK 选择JDK 11
- 清理并重新构建：Build -> Rebuild Project

## 测试账号

| 角色   | 用户名    | 密码        |
|--------|-----------|-------------|
| 管理员 | admin     | admin123    |
| 老师   | teacher   | teacher123  |
| 学生   | student   | student123  |

## 下一步

1. 熟悉代码结构
2. 使用Postman测试各个API接口
3. 根据需要扩展功能
4. 优化代码和性能

## 需要帮助？

- 查看 `README.md` 了解完整功能
- 查看代码注释了解具体实现
- 检查日志文件：`logs/iexs.log`

